!function(){"use strict";class e{constructor(e,t,s){let{name:r,link:o}=e;this._name=r,this._link=o,this._cardSelector=t,this._handleCardClick=s}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteCard()})),this._cardImageEl.addEventListener("click",(()=>{this._handleCardClick(this._name,this._link)}))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_handleDeleteCard(){this._cardElement.remove()}_handleViewCardImage(){this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name}getView(){return this._cardElement=this._getTemplate(),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._handleViewCardImage(),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this.inputSelector=e.inputSelector,this.submitButtonSelector=e.submitButtonSelector,this.inactiveButtonClass=e.inactiveButtonClass,this.inputErrorClass=e.inputErrorClass,this.errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this.errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this.inputErrorClass),t.textContent="",t.classList.remove(this.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this.inputEls.every((e=>e.validity.valid))}toggleButtonState(){this._hasInvalidInput()?(this.submitButton.classList.add(this.inactiveButtonClass),this.submitButton.disabled=!0):(this.submitButton.classList.remove(this.inactiveButtonClass),this.submitButton.disabled=!1)}_setEventListeners(){this.inputEls=[...this._form.querySelectorAll(this.inputSelector)],this.submitButton=this._form.querySelector(this.submitButtonSelector),this.inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e,this.submitButton),this.toggleButtonState(e,this.submitButton)}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(this._form)}}class s{constructor(e){this._popupElement=document.querySelector(e),this._popupElementCloseButton=this._popupElement.querySelector(".popup__close-button")}open(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElementCloseButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("popup_opened")&&this.close(e.target)}))}}class r extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".popup__form"),this._handleFormSubmit=t}_getInputValues(){const e={};return this._popupForm.querySelectorAll(".popup__input").forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",this._handleSubmit)}_handleSubmit=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}}document.querySelector(".cards__list");const o=document.querySelector("#profile-edit-popup"),n=document.querySelector("#add-card-popup"),i=(o.querySelector("#edit-profile-form"),n.querySelector("#add-card-form")),a=document.querySelector("#view-image-popup"),c=document.querySelector("#profile-edit-button"),u=(o.querySelector("#editprofile-close-button"),document.querySelector(".profile__title"),document.querySelector(".profile__description"),document.querySelector(".cards__list"),document.querySelector("#add-button")),l=(n.querySelector("#addcard-close-button"),document.querySelector(".popup__title"),document.querySelector(".popup__image-link"),a.querySelector(".popup__image-view"),document.querySelector(".popup__image-caption"),a.querySelector("#viewimage-close-button"),document.querySelector(".popup__input_type_name")),p=document.querySelector(".popup__input_type_description"),d=(i.querySelector(".popup__input_type_title"),i.querySelector(".popup__input_type_url"),i.querySelector(".popup__save-button"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),_=document.querySelector("#edit-profile-form"),m=document.querySelector("#add-card-form");function h(t){return new e(t,"#card-template",((e,t)=>{y.open({name:e,link:t})})).getView()}document.querySelector("#card-template").content.querySelector(".card");const S=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(".cards__list")}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoice National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:e=>{const t=h(e);S.addItem(t)}});S.renderItems();const E=new t(d,_),v=new t(d,m);E.enableValidation(),v.enableValidation();const y=new class extends s{constructor(e){super(e),this._viewImage=document.querySelector(".popup__image-view"),this._viewImageCaption=document.querySelector(".popup__image-caption")}open(e){let{name:t,link:s}=e;this._viewImage.alt=t,this._viewImageCaption.textContent=t,this._viewImage.src=s,super.open()}}("#view-image-popup");y.setEventListeners();const g=new r("#profile-edit-popup",(e=>{w.setUserInfo(e.name,e.about),g.close()}));g.setEventListeners(),c.addEventListener("click",(()=>{const e=w.getUserInfo();l.value=e.name,p.value=e.about,g.open()}));const q=new r("#add-card-popup",(e=>{const t=h(e);S.addItem(t),q.close()}));q.setEventListeners(),u.addEventListener("click",(()=>{v.toggleButtonState(),q.open()}));const w=new class{constructor(e){this.userName=document.querySelector(e.userName),this.userDescription=document.querySelector(e.userDescription)}getUserInfo(){return{name:this.userName.textContent,description:this.userDescription.textContent}}setUserInfo(e,t){this.userName.textContent=e,this.userDescription.textContent=t}}({userName:".profile__title",userDescription:".profile__description"})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUYsWUFBWWhILEVBQU13SCxHQUNoQnRILEtBQUtvSCxTQUFTN0YsWUFBY3pCLEVBQzVCRSxLQUFLcUgsZ0JBQWdCOUYsWUFBYytGLENBQ3JDLEdIOEc0QixDQUM1QkYsU0FBVSxrQkFDVkMsZ0JBQWlCLHlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rIH0sIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL1wiLmNhcmRfX2xpa2UtYnV0dG9uXCJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xuICAgICAgfSk7XG5cbiAgICAvL1wiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCgpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIF9oYW5kbGVWaWV3Q2FyZEltYWdlKCkge1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG5cbiAgICB0aGlzLl9oYW5kbGVWaWV3Q2FyZEltYWdlKCk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLmlucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLmVycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gYGA7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gIXRoaXMuaW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuaW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuaW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgdGhpcy5pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCwgdGhpcy5zdWJtaXRCdXR0b24pO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0RWwsIHRoaXMuc3VibWl0QnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuX2Zvcm0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudENsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCJcbiAgICApO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZShlLnRhcmdldCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0KTtcbiAgfVxuXG4gIF9oYW5kbGVTdWJtaXQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVmFub2ljZSBOYXRpb25hbCBQYXJrXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JhcHBlcnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5leHBvcnQgY29uc3QgY2FyZHNXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtcG9wdXBcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1wb3B1cFwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPVxuICBwcm9maWxlRWRpdFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLWZvcm1cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBhZGRDYXJkUG9wdXAucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IHZpZXdDYXJkSW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdmlldy1pbWFnZS1wb3B1cFwiKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXR0b25zIGFuZCBvdGhlciBET00gbm9kZXMgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVDbG9zZUJ1dHRvbiA9IHByb2ZpbGVFZGl0UG9wdXAucXVlcnlTZWxlY3RvcihcbiAgXCIjZWRpdHByb2ZpbGUtY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnV0dG9uID0gYWRkQ2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI2FkZGNhcmQtY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEltYWdlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLWxpbmtcIik7XG5leHBvcnQgY29uc3Qgdmlld0NhcmRJbWFnZSA9XG4gIHZpZXdDYXJkSW1hZ2VQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS12aWV3XCIpO1xuZXhwb3J0IGNvbnN0IHZpZXdDYXJkSW1hZ2VDYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2ltYWdlLWNhcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCB2aWV3Q2FyZENsb3NlQnV0dG9uID0gdmlld0NhcmRJbWFnZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3ZpZXdpbWFnZS1jbG9zZS1idXR0b25cIlxuKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtIERhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2lucHV0X3R5cGVfbmFtZVwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXBfX2lucHV0X3R5cGVfZGVzY3JpcHRpb25cIlxuKTtcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGFkZENhcmRGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwX19pbnB1dF90eXBlX3RpdGxlXCJcbik7XG5leHBvcnQgY29uc3QgY2FyZFVybElucHV0ID0gYWRkQ2FyZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV91cmxcIik7XG5leHBvcnQgY29uc3QgY2FyZEZvcm1JbnB1dHMgPSBbY2FyZFRpdGxlSW5wdXQsIGNhcmRVcmxJbnB1dF07XG5leHBvcnQgY29uc3QgY2FyZEZvcm1TdWJtaXRCdXR0b24gPSBhZGRDYXJkRm9ybS5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3B1cF9fc2F2ZS1idXR0b25cIlxuKTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmUtYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuZXhwb3J0IGNvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LXByb2ZpbGUtZm9ybVwiKTtcbmV4cG9ydCBjb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZHNDb25maWcgPSB7XG4gIGNvbnRhaW5lclNlbGVjdG9yOiBcIi5jYXJkc19fbGlzdFwiLFxuICBjYXJkVGVtcGxhdGVTZWxlY3RvcjogXCIjY2FyZC10ZW1wbGF0ZVwiLFxufTtcblxuLy8gY29uc3QgaGFuZGxlQ2xvc2VQb3B1cFdpdGhFc2MgPSAoZSkgPT4ge1xuLy8gICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuLy8gICAgICAgY29uc3Qgb3BlblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuZWRcIik7XG4vLyAgICAgICB0aGlzLmNsb3NlKG9wZW5Qb3B1cCk7XG4vLyAgICAgfVxuLy8gICB9O1xuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICBpbml0aWFsQ2FyZHMsXG4gIGNhcmRzV3JhcCxcbiAgcHJvZmlsZUVkaXRQb3B1cCxcbiAgYWRkQ2FyZFBvcHVwLFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIGFkZENhcmRGb3JtLFxuICB2aWV3Q2FyZEltYWdlUG9wdXAsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBwcm9maWxlQ2xvc2VCdXR0b24sXG4gIHByb2ZpbGVUaXRsZSxcbiAgcHJvZmlsZURlc2NyaXB0aW9uLFxuICBjYXJkTGlzdEVsLFxuICBhZGRDYXJkQnV0dG9uLFxuICBhZGRDYXJkQ2xvc2VCdXR0b24sXG4gIGFkZENhcmRUaXRsZSxcbiAgYWRkQ2FyZEltYWdlTGluayxcbiAgdmlld0NhcmRJbWFnZSxcbiAgdmlld0NhcmRJbWFnZUNhcHRpb24sXG4gIHZpZXdDYXJkQ2xvc2VCdXR0b24sXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgY2FyZFRpdGxlSW5wdXQsXG4gIGNhcmRGb3JtSW5wdXRzLFxuICBjYXJkRm9ybVN1Ym1pdEJ1dHRvbixcbiAgc2V0dGluZ3MsXG4gIGVkaXRGb3JtLFxuICBhZGRGb3JtLFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXJkcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuXG5jb25zdCBjYXJkRGF0YSA9IHtcbiAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxufTtcblxuZnVuY3Rpb24gcmVuZGVyQ2FyZChjYXJkRGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIFwiI2NhcmQtdGVtcGxhdGVcIiwgKG5hbWUsIGxpbmspID0+IHtcbiAgICB2aWV3SW1hZ2VQb3B1cC5vcGVuKHsgbmFtZSwgbGluayB9KTtcbiAgfSk7XG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcbn1cblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgIGNvbnN0IGNhcmQgPSByZW5kZXJDYXJkKGNhcmREYXRhKTtcbiAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZCk7XG4gIH0sXG59KTtcbnNlY3Rpb24ucmVuZGVySXRlbXMoKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsaWRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuZXhwb3J0IGNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRGb3JtKTtcbmV4cG9ydCBjb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGFkZEZvcm0pO1xuXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcHVwV2l0aEltYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCB2aWV3SW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiN2aWV3LWltYWdlLXBvcHVwXCIpO1xudmlld0ltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcHVwV2l0aEZvcm0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vL2VkaXQgcHJvZmlsZSBwb3B1cFxuY29uc3QgaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQgPSAoaW5wdXRWYWx1ZXMpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuYWJvdXQpO1xuXG4gIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKTtcbn07XG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1wb3B1cFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcblxuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB1cGRhdGVkVXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHVwZGF0ZWRVc2VySW5mby5uYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVwZGF0ZWRVc2VySW5mby5hYm91dDtcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuLy9hZGQgY2FyZCBwb3B1cFxuXG5jb25zdCBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdCA9IChpbnB1dFZhbHVlcykgPT4ge1xuICBjb25zdCBjYXJkID0gcmVuZGVyQ2FyZChpbnB1dFZhbHVlcyk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkKTtcbiAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG59O1xuXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjYWRkLWNhcmQtcG9wdXBcIixcbiAgaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXRcbik7XG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIG5ld0NhcmRQb3B1cC5vcGVuKCk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXIgSW5mbyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgdXNlckRlc2NyaXB0aW9uOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cHdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3ZpZXdJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXZpZXdcIik7XG4gICAgdGhpcy5fdmlld0ltYWdlQ2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLWNhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgdGhpcy5fdmlld0ltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fdmlld0ltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fdmlld0ltYWdlLnNyYyA9IGxpbms7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJjb25zdCB1c2VyID0geyBOYW1lOiBcIlwiLCBEZXNjcmlwdGlvbjogXCJcIiB9O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMpIHtcbiAgICB0aGlzLnVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMudXNlck5hbWUpO1xuICAgIHRoaXMudXNlckRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMudXNlckRlc2NyaXB0aW9uKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMudXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMudXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMudXNlckRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwibmFtZSIsImxpbmsiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkRWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9jYXJkSW1hZ2VFbCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9oYW5kbGVWaWV3Q2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2NhcmRUaXRsZUVsIiwidGV4dENvbnRlbnQiLCJnZXRWaWV3IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0RWxzIiwiZXZlcnkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsInN1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9wb3B1cEVsZW1lbnRDbG9zZUJ1dHRvbiIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwiX2hhbmRsZVN1Ym1pdCIsInByb2ZpbGVFZGl0UG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJhZGRDYXJkRm9ybSIsInZpZXdDYXJkSW1hZ2VQb3B1cCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJmb3JtU2VsZWN0b3IiLCJlZGl0Rm9ybSIsImFkZEZvcm0iLCJyZW5kZXJDYXJkIiwiY2FyZERhdGEiLCJ2aWV3SW1hZ2VQb3B1cCIsInNlY3Rpb24iLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImNhcmQiLCJwcmVwZW5kIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiX3ZpZXdJbWFnZSIsIl92aWV3SW1hZ2VDYXB0aW9uIiwiZWRpdFByb2ZpbGVQb3B1cCIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dCIsInVwZGF0ZWRVc2VySW5mbyIsImdldFVzZXJJbmZvIiwibmV3Q2FyZFBvcHVwIiwic2VsZWN0b3JzIiwidXNlck5hbWUiLCJ1c2VyRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=